<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crypto Portfolio</title>
  <style>
    /* Reset Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* General Styling */
    body {
      font-family: Arial, sans-serif;
      color: #fff;
      background-color: #1c1c1c;
    }

    .container {
      display: flex;
      height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 250px;
      background-color: #272727;
      padding: 20px;
      display: flex;
      flex-direction: column;
    }

    .sidebar h1 {
      font-size: 1.5rem;
      margin-bottom: 20px;
    }

    .sidebar nav ul {
      list-style: none;
    }

    .sidebar nav ul li {
      margin-bottom: 15px;
    }

    .sidebar nav ul li a {
      color: #b3b3b3;
      text-decoration: none;
      font-size: 1rem;
    }

    .sidebar nav ul li a:hover {
      color: #fff;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    /* Header */
    .header {
      background-color: #333333;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .header h2 {
      font-size: 1.5rem;
    }

    .actions .btn {
      margin-left: 10px;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .actions .buy {
      background-color: #4caf50;
    }

    .actions .swap {
      background-color: #f39c12;
    }

    .actions .send {
      background-color: #3498db;
    }

    /* Dashboard */
    .dashboard {
      padding: 20px;
      background-color: #1c1c1c;
      flex: 1;
    }

    .balance {
      margin-bottom: 20px;
    }

    .balance h3 {
      font-size: 1.2rem;
      color: #b3b3b3;
    }

    .balance .amount {
      font-size: 2rem;
      color: #4caf50;
    }

    .balance .change {
      font-size: 1rem;
      color: #f39c12;
    }

    .token-list h3 {
      margin-bottom: 10px;
    }

    .token-list table {
      width: 100%;
      border-collapse: collapse;
    }

    .token-list th,
    .token-list td {
      padding: 10px;
      text-align: left;
    }

    .token-list th {
      background-color: #333333;
    }

    .token-list td {
      background-color: #272727;
    }

    .token-list tr:nth-child(even) td {
      background-color: #1e1e1e;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <h1>Crypto Portfolio</h1>
      <nav>
        <ul>
          <li><a href="#">Overview</a></li>
          <li><a href="#">Tokens</a></li>
          <li><a href="#">NFTs</a></li>
          <li><a href="#">DeFi</a></li>
          <li><a href="#">Dapps</a></li>
          <li><a href="#">Games</a></li>
        </ul>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="header">
        <h2>Dashboard</h2>
        <div class="actions">
          <button class="btn buy">Buy</button>
          <button class="btn swap">Swap</button>
          <button class="btn send">Send</button>
        </div>
      </header>

      <!-- Dashboard Content -->
      <section class="dashboard">
        <div class="balance">
          <h3>Total Balance</h3>
          <p class="amount">$<span id="balance">Loading...</span></p>
          <p class="change" id="change">Fetching data...</p>
        </div>

        <!-- Token List -->
        <div class="token-list">
          <h3>Your Tokens</h3>
          <table>
            <thead>
              <tr>
                <th>Token</th>
                <th>Symbol</th>
                <th>Price (USD)</th>
              </tr>
            </thead>
            <tbody id="token-table">
              <tr>
                <td colspan="3">Fetching tokens...</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>
  </div>
  <script>
    const API_URL = "https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest";
    const API_KEY = "e296e1df-1d03-4486-86e0-a5f0226bb300"; // Replace with your API key

    async function fetchCryptoData() {
      try {
        const response = await fetch(`${API_URL}?start=1&limit=10&convert=USD`, {
          method: "GET",
          headers: {
            "X-CMC_PRO_API_KEY": API_KEY,
            Accept: "application/json",
          },
        });

        if (!response.ok) {
          throw new Error("Failed to fetch data from CoinMarketCap API");
        }

        const data = await response.json();
        const tokens = data.data;

        // Update balance and tokens
        updateDashboard(tokens);
      } catch (error) {
        console.error(error);
        document.getElementById("balance").innerText = "Error fetching data.";
      }
    }

    function updateDashboard(tokens) {
      // Total balance simulation
      let totalBalance = 0;

      const table = document.getElementById("token-table");
      table.innerHTML = ""; // Clear the table

      tokens.forEach((token) => {
        const price = token.quote.USD.price.toFixed(2);
        const row = document.createElement("tr");

        row.innerHTML = `
          <td>${token.name}</td>
          <td>${token.symbol}</td>
          <td>$${price}</td>
        `;

        table.appendChild(row);

        totalBalance += price; // Simulate balance accumulation
      });

      document.getElementById("balance").innerText = totalBalance.toFixed(2);
      document.getElementById("change").innerText = "+0.00 (Static Demo)";
    }

    // Fetch crypto data on page load
    fetchCryptoData();
  </script>
</body>
</html>
